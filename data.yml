_prefs: 
  disabled: []
  inspector: false
  mapid: ''
  rev: ''
  saveCenter: true
attribution: ''
center: 
  - 37.7731
  - -4.2957
  - 6
description: ''
Layer: 
  - id: landuse
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          select geometry, osm_id, 'agriculture' as class from osm_landusages
            where type in ('farmland', 'farm', 'farmyard', 'orchard',
              'vineyard', 'plant_nursery')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'cemetery' as class from osm_landusages
            where type in ('cemetery')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'glacier' as class from osm_landusages
            where type in ('glacier')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'grass' as class from osm_landusages
            where type in ('grass', 'grassland', 'meadow', 'field')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'hospital' as class from osm_landusages
            where type in ('hospital')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'industrial' as class from osm_landusages
            where type in ('industrial', 'airport')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'park' as class from osm_landusages
            where type in (
              'nature_reserve', 'national_reserve', 'conservation',
              'national_park')
              and z(!scale_denominator!) >= 7
              and geometry && !bbox!
          union all
          select geometry, osm_id, 'park' as class from osm_landusages
            where type in ('park', 'village_green', 'playground')
            and z(!scale_denominator!) >= 10
          union all
          select geometry, osm_id, 'pitch' as class from osm_landusages
            where type in ('pitch', 'golf_course', 'recreation_ground', 'stadium')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'rock' as class from osm_landusages
            where type in ('rock', 'scree', 'quarry')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'sand' as class from osm_landusages
            where type in ('sand', 'beach', 'dune')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'school' as class from osm_landusages
            where type in ('school', 'university')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'scrub' as class from osm_landusages
            where type in ('scrub', 'heath', 'bush')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'wood' as class from osm_landusages
            where type in ('wood', 'forest')
            and z(!scale_denominator!) >= 7
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      class: String
      osm_id: Number
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: water
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          select geometry, osm_id from osm_waterareas
            where area >= 5000000000
            and geometry && !bbox!
          union all
          select geometry, osm_id from osm_waterareas
            where area < 5000000000 and area >= 1500000000
            and z(!scale_denominator!) >= 1
            and geometry && !bbox!
          union all
          select geometry, osm_id from osm_waterareas
            where area < 1500000000 and area >= 500000000
            and z(!scale_denominator!) >= 2
            and geometry && !bbox!
          union all
          select geometry, osm_id from osm_waterareas
            where area < 500000000 and area >= 100000000
            and z(!scale_denominator!) >= 3
            and geometry && !bbox!
          union all
          select geometry, osm_id from osm_waterareas
            where area < 100000000 and area >= 40000000
            and z(!scale_denominator!) >= 4
            and geometry && !bbox!
          union all
          select geometry, osm_id from osm_waterareas
            where area < 40000000 and area >= 20000000
            and z(!scale_denominator!) >= 5
            and geometry && !bbox!
          union all
          select geometry, osm_id from osm_waterareas
            where area < 20000000 and area >= 10000000
            and z(!scale_denominator!) >= 6
            and geometry && !bbox!
          union all
          select geometry, osm_id from osm_waterareas
            where area < 10000000 and area >= 5000000
            and z(!scale_denominator!) >= 7
            and geometry && !bbox!
          union all
          select geometry, osm_id from osm_waterareas
            where area < 5000000 and area >= 1000000
            and z(!scale_denominator!) >= 8
            and geometry && !bbox!
          union all
          select geometry, osm_id from osm_waterareas
            where area < 1000000 and area >= 500000
            and z(!scale_denominator!) >= 9
            and geometry && !bbox!
          union all
          select geometry, osm_id from osm_waterareas
            where area < 500000 and area >= 100000
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id from osm_waterareas
            where area < 100000
            and z(!scale_denominator!) >= 11
            and geometry && !bbox!
          union all
          select geometry, ogc_fid as osm_id from water_polygons
            where geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      osm_id: Number
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: waterway
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          select geometry, osm_id, type, type as class from osm_waterways
            where type in ('river', 'canal')
            and z(!scale_denominator!) >= 8
            and geometry && !bbox!
          union all
          select geometry, osm_id, type, type as class from osm_waterways
            where type in ('stream', 'stream_intermittent')
            and z(!scale_denominator!) >= 13
            and geometry && !bbox!
          union all
          select geometry, osm_id, type, type as class from osm_waterways
            where type in ('drain', 'ditch')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      class: String
      osm_id: Number
      type: String
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: aeroway
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        ( SELECT geometry, osm_id, type
          FROM osm_aeroways
          WHERE geometry && !bbox!
            AND z(!scale_denominator!) >= 11
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      osm_id: Number
      type: String
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: building
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: osm_id
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        ( SELECT geometry, osm_id, type, name, area
            FROM osm_buildings
            WHERE geometry && !bbox!
              AND z(!scale_denominator!) >= 12
            ORDER BY ST_YMin(ST_Envelope(geometry)) DESC
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      area: Number
      name: String
      osm_id: Number
      type: String
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: landuse_overlay
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          select geometry, osm_id, 'wetland' as class from osm_landusages
            where type in ('wetland', 'marsh', 'swamp')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, 'wetland_noveg' as class from osm_landusages
            where type in ('mud', 'tidalflat')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      class: String
      osm_id: Number
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: road
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          select geometry, osm_id, oneway, type, 'motorway' as class from
            osm_roads where bridge = 0 and tunnel = 0 and type in ('motorway')
            and z(!scale_denominator!) >= 5
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, type, 'motorway_link' as class from
            osm_roads where bridge = 0 and tunnel = 0 and type in ('motorway_link')
            and z(!scale_denominator!) >= 13
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, type, 'main' as class from
            osm_roads where bridge = 0 and tunnel = 0 and type in ('primary',
            'primary_link', 'trunk', 'trunk_link')
            and z(!scale_denominator!) >= 5
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, type, 'main' as class from
            osm_roads where bridge = 0 and tunnel = 0 and type in ('secondary',
            'secondary_link')
            and z(!scale_denominator!) >= 9
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, type, 'main' as class from
            osm_roads where bridge = 0 and tunnel = 0 and type in ('tertiary',
            'tertiary_link')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, type, 'street' as class from
            osm_roads where bridge = 0 and tunnel = 0 and type in ('residential',
            'unclassified', 'living_street')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, type, 'street_limited' as class from
            osm_roads where bridge = 0 and tunnel = 0 and (type in ('pedestrian',
            'construction') or access = 'private')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, type, 'service' as class from
            osm_roads where bridge = 0 and tunnel = 0 and type in ('service',
            'track')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, type, 'driveway' as class from
            osm_roads where bridge = 0 and tunnel = 0 and type in ('driveway')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, type, 'path' as class from
            osm_roads where bridge = 0 and tunnel = 0 and type in ('path',
            'cycleway', 'ski', 'steps', 'bridleway')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, type, 'major_rail' as class from
            osm_roads where bridge = 0 and tunnel = 0 and type in ('rail',
            'monorail', 'narrow_gauge', 'subway', 'tram')
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, type, 'minor_rail' as class from
            osm_roads where bridge = 0 and tunnel = 0 and type in ('funicular',
            'light_rail', 'preserved')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          /* TODO aerialway, golf */
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      class: String
      oneway: Number
      osm_id: Number
      type: String
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: bridge
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          select geometry, osm_id, oneway, layer, type, 'motorway' as class from
            osm_roads where bridge = 1 and type in ('motorway')
            and z(!scale_denominator!) >= 5
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'motorway_link' as class from
            osm_roads where bridge = 1 and type in ('motorway_link')
            and z(!scale_denominator!) >= 13
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'main' as class from
            osm_roads where bridge = 1 and type in ('primary',
            'primary_link', 'trunk', 'trunk_link')
            and z(!scale_denominator!) >= 5
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'main' as class from
            osm_roads where bridge = 1 and type in ('secondary',
            'secondary_link')
            and z(!scale_denominator!) >= 9
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'main' as class from
            osm_roads where bridge = 1 and type in ('tertiary',
            'tertiary_link')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'street' as class from
            osm_roads where bridge = 1 and type in ('residential',
            'unclassified', 'living_street')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'street_limited' as class from
            osm_roads where bridge = 1 and (type in ('pedestrian',
            'construction') or access = 'private')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'service' as class from
            osm_roads where bridge = 1 and type in ('service',
            'track')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'driveway' as class from
            osm_roads where bridge = 1 and type in ('driveway')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'path' as class from
            osm_roads where bridge = 1 and type in ('path',
            'cycleway', 'ski', 'steps', 'bridleway')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'major_rail' as class from
            osm_roads where bridge = 1 and type in ('rail',
            'monorail', 'narrow_gauge', 'subway', 'tram')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'minor_rail' as class from
            osm_roads where bridge = 1 and type in ('funicular',
            'light_rail', 'preserved')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
          /* TODO aerialway, golf */
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      class: String
      layer: Number
      oneway: Number
      osm_id: Number
      type: String
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: tunnel
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          select geometry, osm_id, oneway, layer, type, 'motorway' as class from
            osm_roads where tunnel = 1 and type in ('motorway')
            and z(!scale_denominator!) >= 5
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'motorway_link' as class from
            osm_roads where tunnel = 1 and type in ('motorway_link')
            and z(!scale_denominator!) >= 13
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'main' as class from
            osm_roads where tunnel = 1 and type in ('primary',
            'primary_link', 'trunk', 'trunk_link')
            and z(!scale_denominator!) >= 5
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'main' as class from
            osm_roads where tunnel = 1 and type in ('secondary',
            'secondary_link')
            and z(!scale_denominator!) >= 9
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'main' as class from
            osm_roads where tunnel = 1 and type in ('tertiary',
            'tertiary_link')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'street' as class from
            osm_roads where tunnel = 1 and type in ('residential',
            'unclassified', 'living_street')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'street_limited' as class from
            osm_roads where tunnel = 1 and (type in ('pedestrian',
            'construction') or access = 'private')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'service' as class from
            osm_roads where tunnel = 1 and type in ('service',
            'track')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'driveway' as class from
            osm_roads where tunnel = 1 and type in ('driveway')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'path' as class from
            osm_roads where tunnel = 1 and type in ('path',
            'cycleway', 'ski', 'steps', 'bridleway')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'major_rail' as class from
            osm_roads where tunnel = 1 and type in ('rail',
            'monorail', 'narrow_gauge', 'subway', 'tram')
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select geometry, osm_id, oneway, layer, type, 'minor_rail' as class from
            osm_roads where tunnel = 1 and type in ('funicular',
            'light_rail', 'preserved')
            and z(!scale_denominator!) >= 15
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      class: String
      layer: Number
      oneway: Number
      osm_id: Number
      type: String
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: admin
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          /* TODO calculate maritime */
          select geometry, osm_id, admin_level, 0 as disputed, 0 as maritime
            from osm_admin
            where admin_level = 2
            and geometry && !bbox!
          union all
          select geometry, osm_id, admin_level, 0 as disputed, 0 as maritime
            from osm_admin
            where admin_level = 4
            and z(!scale_denominator!) >= 5
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: osm_tanzania
    fields: 
      admin_level: Number
      disputed: Number
      maritime: Number
      osm_id: Number
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: country_label
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          /* TODO get real name_en/name_de/name_es */
          /* TODO improve ranking */
          select geometry, osm_id, name, name as name_en, 1 as rank from osm_places
            where type = 'country' and
            population >= 250000000
            and geometry && !bbox!
          union all
          select geometry, osm_id, name, name as name_en, 2 as rank from osm_places
            where type = 'country' and
            population >= 100000000 and population < 250000000
            and geometry && !bbox!
          union all
          select geometry, osm_id, name, name as name_en, 3 as rank from osm_places
            where type = 'country' and
            population >= 50000000 and population < 100000000
            and geometry && !bbox!
          union all
          select geometry, osm_id, name, name as name_en, 4 as rank from osm_places
            where type = 'country' and
            population >= 25000000 and population < 50000000
            and geometry && !bbox!
          union all
          select geometry, osm_id, name, name as name_en, 5 as rank from osm_places
            where type = 'country' and
            population >= 10000000 and population < 25000000
            and geometry && !bbox!
          union all
          select geometry, osm_id, name, name as name_en, 6 as rank from osm_places
            where type = 'country' and
            population < 10000000
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      name: String
      name_en: String
      osm_id: Number
      rank: Number
    properties: 
      "buffer-size": 128
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: state_label
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          /* TODO get real name_en/name_de/name_es */
          /* TODO get real area */
          select geometry, osm_id, name, name as name_en, 0 as area from osm_places
            where type = 'state'
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      area: Number
      name: String
      name_en: String
      osm_id: Number
    properties: 
      "buffer-size": 128
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: place_label
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          /* TODO get real name_en/name_de/name_es */
          /* TODO calculate real ranks and ldir */
          select geometry, osm_id, name, name as name_en, type,
            null as capital, 'SE' as ldir, 1 as localrank, null as scalerank
            from osm_places
            where type = 'city'
            and geometry && !bbox!
          union all
          select geometry, osm_id, name, name as name_en, type,
            null as capital, 'SE' as ldir, 1 as localrank, null as scalerank
            from osm_places
            where type = 'town' and z(!scale_denominator!) >= 7
            and geometry && !bbox!
          union all
          select geometry, osm_id, name, name as name_en, type,
            null as capital, 'SE' as ldir, 1 as localrank, null as scalerank
            from osm_places
            where type in ('hamlet', 'suburb','neighbourhood', 'village') and z(!scale_denominator!) >= 10
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      capital: Number
      ldir: String
      localrank: Number
      name: String
      name_en: String
      osm_id: Number
      scalerank: Number
      type: String
    properties: 
      "buffer-size": 256
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: road_label
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          select geometry, osm_id,
            name, name as name_en, ref, char_length(ref) as reflen,
            round(merc_length(geometry)) as len, 'motorway' as class
            from osm_roads
            where bridge = 0 and tunnel = 0 and type in ('motorway')
            and z(!scale_denominator!) >= 5
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
          union all
          select geometry, osm_id,
            name, name as name_en, ref, char_length(ref) as reflen,
            round(merc_length(geometry)) as len, 'motorway_link' as class
            from osm_roads
            where bridge = 0 and tunnel = 0 and type in ('motorway_link')
            and z(!scale_denominator!) >= 13
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
          union all
          select geometry, osm_id,
            name, name as name_en, ref, char_length(ref) as reflen,
            round(merc_length(geometry)) as len, 'main' as class
            from osm_roads
            where bridge = 0 and tunnel = 0 and type in ('primary',
            'primary_link', 'trunk', 'trunk_link')
            and z(!scale_denominator!) >= 5
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
          union all
          select geometry, osm_id,
            name, name as name_en, ref, char_length(ref) as reflen,
            round(merc_length(geometry)) as len, 'main' as class
            from osm_roads
            where bridge = 0 and tunnel = 0 and type in ('secondary',
            'secondary_link')
            and z(!scale_denominator!) >= 9
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
          union all
          select geometry, osm_id,
            name, name as name_en, ref, char_length(ref) as reflen,
            round(merc_length(geometry)) as len, 'main' as class
            from osm_roads
            where bridge = 0 and tunnel = 0 and type in ('tertiary',
            'tertiary_link')
            and z(!scale_denominator!) >= 12
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
          union all
          select geometry, osm_id,
            name, name as name_en, ref, char_length(ref) as reflen,
            round(merc_length(geometry)) as len, 'street' as class
            from osm_roads
            where bridge = 0 and tunnel = 0 and type in ('residential',
            'unclassified', 'living_street')
            and z(!scale_denominator!) >= 12
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
          union all
          select geometry, osm_id,
            name, name as name_en, ref, char_length(ref) as reflen,
            round(merc_length(geometry)) as len, 'street_limited' as class
            from osm_roads
            where bridge = 0 and tunnel = 0 and (type in ('pedestrian',
            'construction') or access = 'private')
            and z(!scale_denominator!) >= 12
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
          union all
          select geometry, osm_id,
            name, name as name_en, ref, char_length(ref) as reflen,
            round(merc_length(geometry)) as len, 'service' as class
            from osm_roads
            where bridge = 0 and tunnel = 0 and type in ('service',
            'track')
            and z(!scale_denominator!) >= 15
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
          union all
          select geometry, osm_id,
            name, name as name_en, ref, char_length(ref) as reflen,
            round(merc_length(geometry)) as len, 'driveway' as class
            from osm_roads
            where bridge = 0 and tunnel = 0 and type in ('driveway')
            and z(!scale_denominator!) >= 15
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
          union all
          select geometry, osm_id,
            name, name as name_en, ref, char_length(ref) as reflen,
            round(merc_length(geometry)) as len, 'path' as class
            from osm_roads
            where bridge = 0 and tunnel = 0 and type in ('path',
            'cycleway', 'ski', 'steps', 'bridleway')
            and z(!scale_denominator!) >= 15
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      class: String
      len: Number
      name: String
      name_en: String
      osm_id: Number
      ref: String
      reflen: Number
    properties: 
      "buffer-size": 128
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: waterway_label
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          select geometry, osm_id,
            name, name as name_en, type, type as class from osm_waterareas
            where type in ('river', 'canal')
            and z(!scale_denominator!) >= 8
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
          union all
          select geometry, osm_id,
            name, name as name_en, type, type as class from osm_waterareas
            where type in ('stream', 'stream_intermittent')
            and z(!scale_denominator!) >= 13
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
          union all
          select geometry, osm_id,
            name, name as name_en, type, type as class from osm_waterareas
            where type in ('drain', 'ditch')
            and z(!scale_denominator!) >= 15
            and linelabel(z(!scale_denominator!), name, geometry)
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      class: String
      name: String
      name_en: String
      osm_id: Number
      type: String
    properties: 
      "buffer-size": 128
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: water_label
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area >= 5000000000
            and z(!scale_denominator!) >= 3
            and geometry && !bbox!
          union all
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area < 5000000000 and area >= 1500000000
            and z(!scale_denominator!) >= 4
            and geometry && !bbox!
          union all
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area < 1500000000 and area >= 500000000
            and z(!scale_denominator!) >= 5
            and geometry && !bbox!
          union all
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area < 500000000 and area >= 100000000
            and z(!scale_denominator!) >= 6
            and geometry && !bbox!
          union all
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area < 100000000 and area >= 40000000
            and z(!scale_denominator!) >= 7
            and geometry && !bbox!
          union all
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area < 40000000 and area >= 20000000
            and z(!scale_denominator!) >= 8
            and geometry && !bbox!
          union all
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area < 20000000 and area >= 10000000
            and z(!scale_denominator!) >= 9
            and geometry && !bbox!
          union all
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area < 10000000 and area >= 5000000
            and z(!scale_denominator!) >= 10
            and geometry && !bbox!
          union all
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area < 5000000 and area >= 1000000
            and z(!scale_denominator!) >= 11
            and geometry && !bbox!
          union all
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area < 1000000 and area >= 500000
            and z(!scale_denominator!) >= 12
            and geometry && !bbox!
          union all
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area < 500000 and area >= 100000
            and z(!scale_denominator!) >= 13
            and geometry && !bbox!
          union all
          select point as geometry, osm_id,
            name, name as name_en, area from osm_waterareas
            where area < 100000
            and z(!scale_denominator!) >= 14
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      area: Number
      name: String
      name_en: String
      osm_id: Number
    properties: 
      "buffer-size": 128
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: poi_label
    Datasource: 
      dbname: osm_tanzania
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: ''
      geometry_table: ''
      host: localhost
      key_field: ''
      max_size: 512
      password: postgres
      port: 5432
      table: |-
        (
          /* TODO calculate real ranks */
          /* TODO improve assigning maki icon */
          select geometry, osm_id,
            name, name as name_en, type, 3 as scalerank, 1 as localrank,
            (CASE WHEN replace(type, '_', '-') in ('airfield','london-underground','airport','marker','alcohol-shop','marker-stroked','america-football','minefield','art-gallery','mobilephone','bakery','monument','bank','museum','bar','music','baseball','oil-well','basketball','park2','beer','park','bicycle','parking','building','parking-garage','bus','pharmacy','cafe','pitch','camera','place-of-worship','campsite','playground','car','police','cemetery','polling-place','chemist','post','cinema','prison','circle','rail','circle-stroked','rail-above','city','rail-light','clothing-store','rail-metro','college','rail-underground','commercial','religious-christian','cricket','religious-jewish','cross','religious-muslim','dam','restaurant','danger','roadblock','disability','rocket','dog-park','school','embassy','scooter','emergency-telephone','shop','entrance','skiing','farm','slaughterhouse','fast-food','soccer','ferry','square','fire-station','square-stroked','fuel','star','garden','star-stroked','gift','suitcase','golf','swimming','grocery','telephone','hairdresser','tennis','harbor','theatre','heart','toilets','heliport','town','hospital','town-hall','ice-cream','triangle','industrial','triangle-stroked','land-use','village','laundry','warehouse','library','waste-basket','lighthouse','water','lodging','wetland','logging','zoo')
            THEN replace(type, '_', '-')
            ELSE null
            END) as maki
            from osm_amenities
            where z(!scale_denominator!) >= 16
            and geometry && !bbox!
        ) AS data
      type: postgis
      user: postgres
    description: ''
    fields: 
      localrank: Number
      maki: String
      name: String
      name_en: String
      osm_id: Number
      scalerank: Number
      type: String
    properties: 
      "buffer-size": 128
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
maxzoom: 17
minzoom: 0
name: ''
